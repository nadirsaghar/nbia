<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ncia="http://imaging.nci.nih.gov/ncia">


<table summary="" cellpadding="0" cellspacing="0" border="0"
       width="730" style="height:100%">
  <!-- banner begins -->
  <tr>
    <td class="bannerHome">
      <div align="right">
        <img src="images/bannerHome.gif" 
             width="100%" 
             alt=""/>
      </div>
    </td>
    <td valign="top">
      <f:verbatim>&amp;nbsp;</f:verbatim>
      <ncia:help label="images/help_icon.png" helpId="welcome_login_help" />
    </td>
  </tr>
  <!-- banner begins -->
  <tr>
    <td height="100%">
      <table summary="" cellpadding="0" cellspacing="0" border="0"
             style="height:100%">
        <tr>
          <td style="vertical-align: top"><!-- welcome begins -->
            <table summary="" cellpadding="0" cellspacing="0" border="0"
                   width="520" style="height:100%">
              <tr>
                <td class="welcomeTitle" height="20">
                  <ui:include src="welcomeTitle.xhtml"/>
                </td>
              </tr>
              <tr>
                <td valign="top">
                  <table class="homePageContent">                   
                    <tr>
                      <td>
                        <ui:include src="welcomeText.xhtml"/>
                      </td>
                    </tr>
                    <f:subview id="guestEnabled" 
                               rendered="#{anonymousLoginBean.isGuestEnabled and empty sessionScope.originalRequest}">
                      <tr>
                        <td>                        
                          <h:form id="navigationForm1">
                
                            <table width="80%" border="0" align="left" cellpadding="5"
                                   cellspacing="0" class="dashedBorderOnly">
                              <tr valign="top">
                                <td valign="middle" >
                                  <div align="center">
                                    <h:commandLink id="guestSearchLinkIcon"
                                                   action="#{anonymousLoginBean.login}">
                                      <h:graphicImage value="/images/magnifying-glass.gif" style="border:0px" />
                                    </h:commandLink>
                                  </div>
                                </td>
                                <td height="53" valign="middle"
                                     class="leftBorderOnly">
                                  <strong>
                                    <h:commandLink id="guestSearchLink"
                                                   action="#{anonymousLoginBean.login}"
                                                   value="#{msg.common_searchImages}" />
                     
                                  </strong> 
                                  <br/>
                                  <h:outputText value="#{msg.home_search_guest_user}"/>
                                  
                                </td>
                              </tr>
                            </table>
                          </h:form>                   
                          <br/>
                          <br/>                      
                        </td>
                      </tr>
                    </f:subview>
                  </table>      
                </td>
              </tr>
            </table>
            <!-- welcome ends -->
          </td>

          <td valign="top" class="sidebarBackground"><!-- sidebar begins -->
            <table summary="" cellpadding="0" cellspacing="0" border="0"
                   style="height:100%" width="210">
              <!-- login begins -->
              <!-- login ends -->
              <!-- what's new begins -->
              <tr>
                <td valign="top">
                  <f:subview id="sideBarViewAsGuest" 
                             rendered="#{anonymousLoginBean.isGuestEnabled and empty sessionScope.originalRequest}">
                    <h:form id="loginFormGuestEnabled">
                      <table summary="" cellpadding="2" cellspacing="0" border="0"
                             width="100%" class="sidebarSection">
                        <tr>
                          <td colspan="3" class="sidebarTitle" height="20">
                            <h:outputText value="Updates"/>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="2" class="sidebarContent">
                            <h:panelGroup rendered="#{not empty searchLookupBean.newImagesDate}"> 
                              <h:outputText value="#{msg.home_newImages} "/>
                              <h:outputText value="#{searchLookupBean.newImagesDate}" />
                              <br/> 
                            </h:panelGroup>  
                            <h:panelGroup rendered="#{empty searchLookupBean.newImagesDate}"> 
                              None
                              <br/> 
                            </h:panelGroup>
                          </td>
                        </tr>                   
                        <tr>
                          <td class="sidebarContent" height="20">
                            <h:commandLink id="loginToggleLink"
                                           action="#{anonymousLoginBean.loginLink}" 
                                           value="Login "/>
                          </td>
                          <td class="sidebarContent" height="20">
                            <a href="/ncia/legalRules.jsf">
                              <h:outputText value="#{msg.home_register}" />
                            </a>
                          </td>                       
                        </tr>
                        <f:subview id="loginGuestEnabled" 
                                   rendered="#{anonymousLoginBean.loginLink or not empty sessionScope.originalRequest}">
                          <tr>
                            <td colspan="2" class="sidebarContent">                          
                              <table cellpadding="2" cellspacing="0" border="0">
                                <tr>
                                  <td class="sidebarLogin" align="right">
                                    <label for="loginID">
                                      <h:outputText value="#{msg.home_userID}"/>
                                    </label>
                                  </td>
                                  <td class="formFieldLogin">
                                    <h:inputText id="uName1" 
                                                 value="#{securityBean.username}" 
                                                 size="14" 
                                                 maxlength="100"/>
                                  </td>
                                </tr>
                                <tr>
                                  <td class="sidebarLogin" align="right">
                                    <label for="password">
                                      <h:outputText value="#{msg.home_password}"/>
                                    </label>
                                  </td>
                                  <td class="formFieldLogin">
                                     <h:inputSecret id="pass1" 
                                                    value="#{securityBean.password}" 
                                                    size="14" 
                                                    maxlength="100"/> 
                                  </td>
                                </tr>
                                <tr>
                                  <td>
                                    <f:verbatim>&amp;nbsp;</f:verbatim>
                                  </td>
                                  <td>
                                    <h:messages layout="table"
                                                styleClass="errorLabel" />
                                  </td>
                                </tr>
                                <tr>
                                  <td>
                                    <f:verbatim>&amp;nbsp;</f:verbatim>
                                  </td>
                                  <td>
                                    <h:commandButton id="loginButton1"
                                                     styleClass="actionButton" 
                                                     value="#{msg.home_login}"
                                                     action="#{securityBean.login}" /> 
                      
                                  </td>
                                </tr>             
                                <tr>
                                  <td colspan="2"   
                                      align="center">
                                    <br/>
                                    <a href="#"
                                       onclick="window.open('/ncia/accountSupport.jsf', 'new' ,'screenX=0,screenY=0,status=yes,toolbar=no,menubar=no,location=no,width=760,height=550,scrollbars=yes,resizable=yes')">
                                      <h:outputText value="#{msg.home_account_access}" />
                                    </a>                                       
                                    <br/>       
                                  </td>
                                </tr>    
                              </table>                                           
                            </td>
                          </tr>
                        </f:subview>                    
                        <tr>
                          <td colspan="2"  class="sidebarContent" align="left">
                            <ui:include src="underLoginBoxPanelText.xhtml"/>
                          </td>
                        </tr>       
                      </table>
                    </h:form>   
                  </f:subview>
                  <f:subview id="sideBarView" 
                             rendered="#{!anonymousLoginBean.isGuestEnabled or not empty sessionScope.originalRequest}">
                    <h:form id="loginForm">
                      <table summary="" cellpadding="2" cellspacing="0" border="0"
                             width="100%" class="sidebarSection">
                        <tr>
                          <td colspan="3" class="sidebarTitle" height="20">
                            <h:outputText value="Updates"/>
                          </td>
                        </tr>
                        <tr>
                          <td colspan="2" class="sidebarContent">
                            <h:panelGroup rendered="#{not empty searchLookupBean.newImagesDate}"> 
                              <h:outputText value="#{msg.home_newImages} "/>
                              <h:outputText value="#{searchLookupBean.newImagesDate}" />
                              <br/> 
                            </h:panelGroup>  
                            <h:panelGroup rendered="#{empty searchLookupBean.newImagesDate}"> 
                              None
                              <br/> 
                            </h:panelGroup>
                          </td>
                        </tr>                   
                        <tr>
                          <td class="sidebarTitle" height="20">
                            <h:outputText value="#{msg.home_userLogin} "/>
                          </td>
                        </tr>
                        <tr>
                          <td class="sidebarContent">
                            <table cellpadding="2" cellspacing="0" border="0">
                              <tr>
                                <td class="sidebarLogin" align="right">
                                  <label for="loginID">
                                    <h:outputText value="#{msg.home_userID}"/>
                                  </label>
                                </td>
                                <td class="formFieldLogin">
                                  <h:inputText id="uName2" 
                                               value="#{securityBean.username}" 
                                               size="14" 
                                               maxlength="100"/>
                                </td>
                              </tr>
                              <tr>
                                <td class="sidebarLogin" align="right">
                                  <label for="password">
                                    <h:outputText value="#{msg.home_password}"/>
                                  </label>
                                </td>
                                <td class="formFieldLogin">
                                   <h:inputSecret id="pass2" 
                                                  value="#{securityBean.password}" 
                                                  size="14" 
                                                  maxlength="100"/> 
                                </td>
                              </tr>
                              <tr>
                                <td>
                                  <f:verbatim>&amp;nbsp;</f:verbatim>
                                </td>
                                <td>
                                  <h:messages layout="table"
                                              styleClass="errorLabel" />
                                </td>
                              </tr>
                              <tr>
                                <td>
                                  <f:verbatim>&amp;nbsp;</f:verbatim>
                                </td>
                                <td>
                                  <h:commandButton id="loginButton2"
                                                   styleClass="actionButton" 
                                                   value="#{msg.home_login}"
                                                   action="#{securityBean.login}" /> 
                                </td>
                              </tr>                         
                            </table>
                          </td>
                        </tr>
                      </table>
                              
                      <table summary="" cellpadding="0" cellspacing="0" border="0"
                             width="100%" class="sidebarSection">                    
                        <tr>
                          <td class="sidebarContent" align="center">
                            <br/>
                            <a href="#"
                               onclick="window.open('/ncia/accountSupport.jsf', 'new' ,'screenX=0,screenY=0,status=yes,toolbar=no,menubar=no,location=no,width=760,height=550,scrollbars=yes,resizable=yes')">
                              <h:outputText value="#{msg.home_account_access}" />
                            </a>
                            <br/>
                            <br/>       
                          </td>
                        </tr>                     
                      </table>
                      <table summary="" cellpadding="0" cellspacing="0" border="0"
                             width="100%" class="sidebarSection">                    
                        <tr>
                          <td class="sidebarContent" align="center">
                            <br/>
                            <h:outputText value="#{msg.home_not_register}" />
                            <br/>
                            <a href="/ncia/legalRules.jsf">
                              <h:outputText value="#{msg.home_register}" />
                            </a>
                            <br/>
                            <br/>                         
                          </td>
                        </tr>                   
                      </table>
                    </h:form>   
                  </f:subview>
                                                 
                  <f:subview id="popupJs" rendered="#{securityBean.loginFailure}">
                    <script>
                      window.open('/ncia/HTML/LoginFailure.html', 'new' ,'screenX=200,screenY=50,status=yes,toolbar=no,menubar=no,location=no,width=650,height=700,scrollbars=yes,resizable=yes');
                    </script>
                  </f:subview>
                </td>
              </tr>
              <!-- what's new ends -->             
            </table>
            <!-- sidebar ends -->
          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>

</ui:composition>